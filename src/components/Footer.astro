---
const { title, description } = Astro.props
---

<footer id="footer" class="panel">
  <div class="inner split">
    <div>
      <section>
        <h2>{title}</h2>
        <p>{description}</p>
      </section>
      <p class="copyright">
        &copy; <a href="https://portfolio-angular-one.vercel.app/home" target="_blank">JORDY.</a><br/>
        Images: <a href="https://www.linkedin.com/in/jhordan-caro-b016b811a/" target="_blank">NEMO</a>
      </p>
      
    </div>
    <div>
      <section>
        <h2>Get in touch</h2>
        <form id="contact-form">
          <div class="fields">
            <div class="field half">
              <input type="text" name="name" id="name" placeholder="Name" required />
            </div>
            <div class="field half">
              <input type="email" name="email" id="email" placeholder="Email" required />
            </div>
            <div class="field">
              <textarea
                name="message"
                id="message"
                rows="4"
                placeholder="Message" required></textarea>
            </div>
          </div>
          <ul class="actions">
            <li><input type="submit" value="Send" class="primary" /></li>
            <li><input type="reset" value="Reset" /></li>
          </ul>
        </form>
      </section>
    </div>
  </div>
</footer>

<script>
  document.querySelector('#contact-form').addEventListener('submit', async function(event) {
    event.preventDefault(); // Evita el comportamiento estándar de envío del formulario

    const formData = new FormData(this);

    try {
      const response = await fetch('https://formspree.io/f/mdkoorye', {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });

      if (response.ok) {
        window.location.reload();
      } else {
        console.error('Error al enviar el formulario');
      }
    } catch (error) {
      console.error('Error:', error);
    }
  });
</script>
